# 1-2 멀티스레드와 함수형 프로그래밍

멀티스레드 프로그래밍에서는 여러 스레드가 동시에 실행되면서 공유자원에 접근할 때 발생하는 동시성 문제를 수반한다.

여러 스레드가 실행순서를 보장받을 수 없고, 이에 따라 데이터의 불변성을 보장 할 수 없다. 그래서 뮤텍스나 세마포어같은 기법을 활용해 서로 다른 스레드가 데이터를 동시에 점유할 수 없도록 조치하는데, 이 때, 이런 기법들로 인해 교착상태에 빠질 가능성이 있다는 단점이 존재하며 이를 아래와 같은 함수형 프로그래밍의 특성을 활용해 문제를 해결할 수 있다.

### 1. 불변성

함수형 프로그래밍은 데이터의 불변성을 중요하게 여긴다. 여러 스레드에서 하나의 데이터에 접근해 데이터를 변경하면 변경 된 데이터의 결과가 실행순서에 따라 달라지기 때문에 스레드 간 데이터 불일치 같은 문제를 발생시킬 수 있다.

이 때, 데이터를 불변하게 만들어놓는다면 여러 스레드에서 같은 데이터를 변경해도 실제로는 그 데이터 자체가 변경된 것이 아닌, 새로운 데이터를 생성하고 대체한 것이기 때문에 같은 데이터를 다른 스레드에서 변경했더라도 데이터가 불일치하는 상황을 많이 줄일 수 있다.

### 2. 순수 함수

함수형 프로그래밍에서 사용하는 함수들은 순수함수여야 한다. 순수함수는 사이드 이펙트가 발생할 확률이 낮고, 실행결과의 예측이 쉽다. 그 이유는 함수의 실행결과는 입력 값에만 의존하기 때문에 함수 외부에 존재하는 여러 존재들에는 영향을 끼치지 않기 때문이다. 이러한 특성으로 인해 멀티스레드 환경에서의 병렬처리를 안전하게 수행할 수 있다.
